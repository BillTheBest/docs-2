<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Node.js wrapper | Downloads</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.5.2">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../../styles/website.css">
    

        
    
    
    <link rel="next" href="../../chapters/api_reference/about_this_doc.html" />
    
    
    <link rel="prev" href="../../chapters/api_reference/index.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="4.1" data-chapter-title="Node.js wrapper" data-filepath="chapters/api_reference/nodejs_wrapper.md" data-basepath="../.." data-revision="Thu Nov 26 2015 17:06:24 GMT+0100 (CET)">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="0.1" data-path="chapters/introduction/why_netbeast.html">
            
                
                    <a href="../../chapters/introduction/why_netbeast.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>0.1.</b>
                        
                        Why Netbeast
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1" data-path="chapters/get_started/index.html">
            
                
                    <a href="../../chapters/get_started/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Get Started
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="chapters/get_started/install_nodejs.html">
            
                
                    <a href="../../chapters/get_started/install_nodejs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Install Node.js
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="chapters/get_started/write_your_first_app.html">
            
                
                    <a href="../../chapters/get_started/write_your_first_app.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Write your first app
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="chapters/get_started/install_dashboard.html">
            
                
                    <a href="../../chapters/get_started/install_dashboard.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Install Dashboard
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="chapters/get_started/install_your_own_app_md.html">
            
                
                    <a href="../../chapters/get_started/install_your_own_app_md.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        Install your own app
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="chapters/get_started/publish_your_app.html">
            
                
                    <a href="../../chapters/get_started/publish_your_app.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                        Publish your app
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="chapters/guides_and_resources/index.html">
            
                
                    <a href="../../chapters/guides_and_resources/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Guides and resources
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="chapters/guides_and_resources/install_os_on_raspberry_pi.html">
            
                
                    <a href="../../chapters/guides_and_resources/install_os_on_raspberry_pi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Install OS on Raspberry Pi
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="chapters/guides_and_resources/discover_your_netbeast.html">
            
                
                    <a href="../../chapters/guides_and_resources/discover_your_netbeast.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Discover your Netbeast
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="chapters/advanced/index.html">
            
                
                    <a href="../../chapters/advanced/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Advanced
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" >
            
            <span><b>3.1.</b> Push notifications</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
            <span><b>3.2.</b> Create a Resource</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" >
            
            <span><b>3.3.</b> Use a Resource</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" >
            
            <span><b>3.4.</b> Chain events</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="chapters/api_reference/index.html">
            
                
                    <a href="../../chapters/api_reference/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        API Reference
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="4.1" data-path="chapters/api_reference/nodejs_wrapper.html">
            
                
                    <a href="../../chapters/api_reference/nodejs_wrapper.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Node.js wrapper
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="chapters/api_reference/about_this_doc.html">
            
                
                    <a href="../../chapters/api_reference/about_this_doc.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.1.</b>
                        
                        About this doc
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="chapters/api_reference/methods.html">
            
                
                    <a href="../../chapters/api_reference/methods.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.2.</b>
                        
                        Methods
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.2.1" data-path="chapters/api_reference/devices.html">
            
                
                    <a href="../../chapters/api_reference/devices.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.2.1.</b>
                        
                        Devices
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.2.2" data-path="chapters/api_reference/resources.html">
            
                
                    <a href="../../chapters/api_reference/resources.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.2.2.</b>
                        
                        Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.2.3" data-path="chapters/api_reference/scenes.html">
            
                
                    <a href="../../chapters/api_reference/scenes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.2.3.</b>
                        
                        Scenes
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" >
            
            <span><b>4.2.</b> Resources implementation</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="chapters/collaborate/index.html">
            
            <span><b>5.</b> Collaborate</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" >
            
            <span><b>5.1.</b> Roadmap</span>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" >
            
            <span><b>5.2.</b> Report bugs</span>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" >
            
            <span><b>5.3.</b> Collaborate to the open source</span>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="chapters/collaborate/write_new_documentation.html">
            
                
                    <a href="../../chapters/collaborate/write_new_documentation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Write new documentation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="chapters/collaborate/contact.html">
            
                
                    <a href="../../chapters/collaborate/contact.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Contact
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Downloads</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="nodejs-wrapper">Node.js wrapper</h1>
<h2 id="about-this-docs">About this Docs</h2>
<p>The main goal of this documentation is to explain how the Netbeast API works. All the information that you need to start programming has been gathered here.</p>
<p>This API is quite new so it is continuously changing and growing. As it matures, some parts are more reliable tan others. Some methods are very new and could be redesigned in the future. Others are so tested and stable. You will see a stability index through all the documentation. We have defined the index as follow:</p>
<ul>
<li>3 - reliable</li>
<li>2 - experimental</li>
<li>1 - deprecated</li>
</ul>
<h3 id="supported-devides">Supported devides</h3>
<p>With this API you can control this devices</p>
<ul>
<li>[x] Philips Hue </li>
<li>[x] Belkin WeMo<ul>
<li>[x] Switch</li>
<li>[x] Insight</li>
<li>[x] Bulbs</li>
</ul>
</li>
<li>[ ] Parrot Flower Power</li>
<li>[ ] Chromecast</li>
<li>[ ] Sonos</li>
<li>[ ] Lifx</li>
</ul>
<h3 id="how-to-use-it">How to use it?</h3>
<p>First of all, you need to install the npm package.</p>
<pre><code>sudo npm install netbeast -g
</code></pre><p> Once the package is in the node_modules folder, you can require it from the code. You are able to require all the methods or only some specific areas.</p>
<pre><code class="lang-javascript"><span class="hljs-comment">//  Option 1</span>
<span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.resources(<span class="hljs-string">&apos;lights&apos;</span>).get()

<span class="hljs-comment">//  Option 2</span>
<span class="hljs-keyword">var</span> resources = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast/lib/resources&apos;</span>)
<span class="hljs-keyword">var</span> scene = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast/lib/scene&apos;</span>)
<span class="hljs-keyword">var</span> devices = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast/lib/devices&apos;</span>)

resources(<span class="hljs-string">&apos;lights&apos;</span>).get()
</code></pre>
<h2 id="methods">Methods</h2>
<h3 id="arguments">Arguments</h3>
<p>Each device can support specific parameters. 
Bridge or Switch can be switched on or off. If you try to set an unsupported parameter to a switch (example, .set({bri: 255})) you will return a soft error. The process keep working but send you a warning.</p>
<p>Here is a list of supported arguments for each device.</p>
<ul>
<li>switch &amp; bridge<ul>
<li>on - true/false</li>
</ul>
</li>
<li>Bulbs<ul>
<li>on    - true/false</li>
<li>bri   - 0-255</li>
<li>hue   - 0-65535   (color bulbs)</li>
<li>sat   - 0-255     (color bulbs)</li>
</ul>
</li>
</ul>
<p>A example of use:</p>
<pre><code class="lang-javascript">nb.resources(<span class="hljs-string">&apos;lights&apos;</span>).set({on: <span class="hljs-literal">true</span>, bri: <span class="hljs-number">200</span>, hue: <span class="hljs-number">0</span>, sat: <span class="hljs-number">255</span>})
</code></pre>
<p> If you have white and color bulbs, the first ones are going to switch on and change the brightness. The color bulbs will also change their color to red and the execution continues without problems.</p>
<h3 id="output">Output</h3>
<p>All the methods act as a promise and they always return a json object like this:</p>
<pre><code class="lang-`json">{
    error:  
    data:
}
</code></pre>
<h3 id="resources">Resources</h3>
<p>A resource contain information about every smart device connected through the dashboard. It has the following fields:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Values</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Identifies the resource in the db</td>
<td>Integer (automatic)</td>
<td>-</td>
</tr>
<tr>
<td>app</td>
<td>show the device brand</td>
<td>String (belkin-wemo, philips-hue)</td>
<td>-</td>
</tr>
<tr>
<td>location</td>
<td>Location of the devices in the house</td>
<td>String (up to developer)</td>
<td>none</td>
</tr>
<tr>
<td>topic</td>
<td>Define the device field of actuation</td>
<td>String (lights.bridge,switch)</td>
<td>-</td>
</tr>
<tr>
<td>group</td>
<td>Resources con be grouped</td>
<td>String (up to developer)</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Resources has methods for:</p>
<ul>
<li>Obtain the current state of devices, for expample<pre><code class="lang-javascript">resources(<span class="hljs-string">&apos;lights&apos;</span>).get()
</code></pre>
</li>
<li>Change the current state of devices, for example<pre><code class="lang-javascript">resources(<span class="hljs-string">&apos;switch&apos;</span>).set({on: <span class="hljs-literal">true</span>})
</code></pre>
</li>
<li>Select a device through its group or location, for example<pre><code class="lang-javascript">resources(<span class="hljs-string">&apos;lights&apos;</span>).at(<span class="hljs-string">&apos;kitchen&apos;</span>).get(<span class="hljs-string">&apos;bri&apos;</span>)
</code></pre>
</li>
</ul>
<h5 id="resourcestopicatlocationmethod">resources([topic]).at(location).METHOD</h5>
<p>This method allows us to select a group of devices form a specific location. It can&#xB4;t be used alone and should be follow by other method.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.resources(<span class="hljs-string">&apos;lights&apos;</span>).at(<span class="hljs-string">&apos;bedroom&apos;</span>).get()
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<p>In this example, we get information about all the lights placed at the kitchen. </p>
<h4 id="resourcestopicdeleteargs">resources([topic]).delete([args])</h4>
<p>The delete method allow us to remove resources from the database. The args argument is json object with more properties of the device that should be deleted.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

<span class="hljs-comment">// Remove all the lights</span>
nb.resources(<span class="hljs-string">&apos;lights&apos;</span>).delete()
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}

<span class="hljs-comment">// Remove all the belkin-wemo lights group by &apos;colorful&apos;</span>

<span class="hljs-keyword">var</span> args = { app: <span class="hljs-string">&apos;belkin-wemo&apos;</span>}

nb.resources(<span class="hljs-string">&apos;lights&apos;</span>).groupBy(<span class="hljs-string">&apos;colorful&apos;</span>).delete(args)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<h4 id="resourcestopicdeletebyidid">resources([topic]).deleteById(id)</h4>
<p>The deleteById method allows us to remove resources from the database. With the id argument we select a specific device from the db.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.resources().delete(<span class="hljs-number">1</span>)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<p>The topic is useless on this method.</p>
<h4 id="resourcestopicgetvalue">resources([topic]).get([value])</h4>
<p>The get method allows us to obtain information about the current state of the devices. You can obtain all the data about the state or specify a concrete value.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

<span class="hljs-comment">// Returns the state of all lights</span>
nb.resources(<span class="hljs-string">&apos;lights&apos;</span>).get()
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}

<span class="hljs-comment">// Returns the brightness of all the lights</span>
<span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.resources(<span class="hljs-string">&apos;lights&apos;</span>).get(<span class="hljs-string">&apos;bri&apos;</span>)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<p> You can only ask for one value.  nb.resources(&apos;lights&apos;).get(&apos;on&apos;, &apos;bri&apos;) is not allowed.</p>
<h4 id="resourcestopicgetbyidid">resources([topic]).getById(id)</h4>
<p>The getById method allows us to get information about the current state of the devices. You will receive all the information of the specified device.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.resources().getById(<span class="hljs-number">1</span>)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<p>The topic is useless on this method.</p>
<h4 id="resourcestopicgroupbynamemethod">resources([topic]).groupBy(name).METHOD</h4>
<p>This method allows us to select devices form a specific group. It can&#xB4;t be used alone and should be follow by other method.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.resources(<span class="hljs-string">&apos;lights&apos;</span>).groupBy(<span class="hljs-string">&apos;roof&apos;</span>).set({on: <span class="hljs-number">1</span>})
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<p>In this example, we switch all the lights of the group &#x2018;roof&#x2019; on. </p>
<h4 id="resourcestopicsetargs">resources([topic]).set(args)</h4>
<p>The set method allows us to change the current state of the devices. You can modify different values at the same time.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

<span class="hljs-comment">// Change the brightness of all lights</span>
nb.resources(<span class="hljs-string">&apos;lights&apos;</span>).set({bri: <span class="hljs-number">255</span>})
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}

<span class="hljs-comment">//  Change the brightness and color of all the lights</span>
<span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.resources(<span class="hljs-string">&apos;lights&apos;</span>).set({bri: <span class="hljs-number">200</span>, hue: <span class="hljs-number">65000</span>, sat: <span class="hljs-number">255</span>})
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<h4 id="resourcestopic-setbyidid-args">resources([topic]). setById(id, args)</h4>
<p>The setById method allows us to change the current state of the given device. You can modify different values of the specified device.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

<span class="hljs-keyword">var</span> args = { on: <span class="hljs-number">1</span>, bri: <span class="hljs-number">50</span> }

nb.resources().setById(<span class="hljs-number">1</span>, args)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<p>The topic is useless on this method.</p>
<h3 id="scenes">Scenes</h3>
<p>A Scene is a snapshot of the current state of a group of devices. It allows you to save your favorites configuration to be accessed easily. The scenes database its composed by the following fields:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Values</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Identifies the resource in the db</td>
<td>Integer (automatic)</td>
<td>-</td>
</tr>
<tr>
<td>sceneid</td>
<td>show the name of the scene</td>
<td>String</td>
<td>-</td>
</tr>
<tr>
<td>location</td>
<td>Location of the scene in the house</td>
<td>String (up to developer)</td>
<td>none</td>
</tr>
<tr>
<td>on</td>
<td>show if the device is on or off</td>
<td>Boolean</td>
<td>-</td>
</tr>
<tr>
<td>bri</td>
<td>Stores the brightness value</td>
<td>Integer</td>
<td>-</td>
</tr>
<tr>
<td>hue</td>
<td>Stores the hue value</td>
<td>Integer</td>
<td>-</td>
</tr>
<tr>
<td>sat</td>
<td>Stores the saturation value</td>
<td>Integer</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>A given device could be part of different scenes.</p>
<p>The parameters <em>hue</em> and <em>sat</em> are used to define the colors.</p>
<h4 id="scenesceneidadddeviceid">scene(sceneid).addDevice(id)</h4>
<p>The addDevice method allows us to add a new device to the selected scene. You must pass the id of the device and it will save the current state of it on the db.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.scene(<span class="hljs-string">&apos;watchfilm&apos;</span>).addDevice(<span class="hljs-number">2</span>)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<h4 id="scenesceneidapply">scene(sceneid).apply()</h4>
<p>This method apply the configuration of the given scene.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.scene(<span class="hljs-string">&apos;watchfilm&apos;</span>).apply()
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<h4 id="scenesceneidcreateids">scene(sceneid).create(ids)</h4>
<p>This method is used to create a new scene by passing an array of device ids. It takes the current state of the given devices and store the scene in the db with the &apos;seceneid&apos; name.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

<span class="hljs-keyword">var</span> devices = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>]

nb.scene(<span class="hljs-string">&apos;watchfilm&apos;</span>).create(devices)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<h4 id="scenesceneidcreatecustomstate">scene(sceneid).createCustom(state)</h4>
<p>With this method you can create a new scene with a predefined state. <em>state</em> is an object array that contains the object id and the state of each device.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

<span class="hljs-keyword">var</span> newscene = [ { 
    id: <span class="hljs-number">1</span>,
    on: <span class="hljs-number">1</span>,
    bri: <span class="hljs-number">254</span>,
    hue: <span class="hljs-number">4753</span>,
    sat: <span class="hljs-number">254</span> },
    {
    id: <span class="hljs-number">8</span>,
    on: <span class="hljs-number">1</span>,
    bri: <span class="hljs-number">254</span>}]


nb.scene(<span class="hljs-string">&apos;watchfilm&apos;</span>).createCustom(newscene)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<h4 id="scenesceneiddelete">scene(sceneid).delete()</h4>
<p>With delete you can remove a given scene from the db</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.scene(<span class="hljs-string">&apos;watchfilm&apos;</span>).delete()
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<h4 id="scenesceneiddeletedeviceid">scene(sceneid).deleteDevice(id)</h4>
<p>Instead of removing the whole scene, you are able to quit one device from the scene.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.scene(<span class="hljs-string">&apos;watchfilm&apos;</span>).deleteDevice(<span class="hljs-number">6</span>)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<h4 id="scenesceneidget">scene(sceneid).get()</h4>
<p>This methods returns all the information about the scene.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.scene(<span class="hljs-string">&apos;watchfilm&apos;</span>).get()
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<p>get has no arguments.</p>
<h4 id="scenegetscenes">scene().getScenes()</h4>
<p>The getScenes method return the name of all the scenes registered on the db.
Arguments are not needed on this function.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.scene().getScene()
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<h3 id="devices">Devices</h3>
<p>This object include useful methods for managing different aspects of the Smart devices</p>
<h4 id="devicesgroupname--devicesid">devices.group(name , devicesId)</h4>
<p>This functi&#xF3;n allows us to make group of devices. The argument name defines de group name. DevicesId will be an array of ids of the devices that should be grouped.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

<span class="hljs-keyword">var</span> args = [<span class="hljs-number">1</span>,<span class="hljs-number">3</span>, <span class="hljs-number">7</span> }

nb.devices().group(<span class="hljs-string">&apos;roof&apos;</span>, args)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>
<h4 id="devicesdiscoverbrandname">devices.discover([brand-name])</h4>
<p>This function allows us to activate the discovery process. With the brand-name parameter you can specify a concrete app (like belkin-wemo, philips-hue). If you don&#xB4;t include this argument, the discovery will be apply to all available brands.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> nb = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

nb.devices().discovery(<span class="hljs-string">&apos;belkin-wemo&apos;</span>)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{}
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{}
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../chapters/api_reference/index.html" class="navigation navigation-prev " aria-label="Previous page: API Reference"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../chapters/api_reference/about_this_doc.html" class="navigation navigation-next " aria-label="Next page: About this doc"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"livereload":{}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
