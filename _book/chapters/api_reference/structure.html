<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Structure Overview | Netbeast Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-advanced-emoji/emoji-website.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-multipart/multipart.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../../styles/website.css">
    

        
    
    
    <link rel="next" href="../../chapters/api_reference/resources.html" />
    
    
    <link rel="prev" href="../../chapters/api_reference/index.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="3.2"
        data-chapter-title="Structure Overview"
        data-filepath="chapters/api_reference/structure.md"
        data-basepath="../.."
        data-revision="Tue Apr 26 2016 18:11:07 GMT+0200 (CEST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        About Netbeast
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" >
            
            <span><b>1.</b> Getting started</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="chapters/getting_started/installing_and_cloning.html">
            
                
                    <a href="../../chapters/getting_started/installing_and_cloning.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="chapters/getting_started/dashboard.html">
            
                
                    <a href="../../chapters/getting_started/dashboard.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        The Dashboard
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="chapters/getting_started/first_steps.html">
            
                
                    <a href="../../chapters/getting_started/first_steps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        First steps
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" >
            
            <span><b>2.</b> Developing</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="chapters/developing/how_to_develop.html">
            
                
                    <a href="../../chapters/developing/how_to_develop.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        How to develop
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="chapters/developing/apps/write_your_first_app.html">
            
                
                    <a href="../../chapters/developing/apps/write_your_first_app.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Your first application
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="chapters/developing/apps/install_it_on_the_dashboard.html">
            
                
                    <a href="../../chapters/developing/apps/install_it_on_the_dashboard.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Installing your app
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="chapters/developing/plugins/write_your_first_plugin.html">
            
                
                    <a href="../../chapters/developing/plugins/write_your_first_plugin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Your first plugin
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="chapters/developing/plugins/write_a_virtual_plugin.html">
            
                
                    <a href="../../chapters/developing/plugins/write_a_virtual_plugin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Virtual plugins
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="chapters/developing/plugins/install_it_on_the_dashboard.html">
            
                
                    <a href="../../chapters/developing/plugins/install_it_on_the_dashboard.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Installing your plugin
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="chapters/developing/publish.html">
            
                
                    <a href="../../chapters/developing/publish.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Publishing applications and plugins
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" >
            
            <span><b>3.</b> API Reference</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="chapters/api_reference/index.html">
            
                
                    <a href="../../chapters/api_reference/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="3.2" data-path="chapters/api_reference/structure.html">
            
                
                    <a href="../../chapters/api_reference/structure.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Structure Overview
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="chapters/api_reference/resources.html">
            
                
                    <a href="../../chapters/api_reference/resources.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="chapters/api_reference/scenes.html">
            
                
                    <a href="../../chapters/api_reference/scenes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Scenes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="chapters/api_reference/push_notifications.html">
            
                
                    <a href="../../chapters/api_reference/push_notifications.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Push notifications
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="chapters/api_reference/chain_events.html">
            
                
                    <a href="../../chapters/api_reference/chain_events.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Events
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="chapters/api_reference/streams.html">
            
                
                    <a href="../../chapters/api_reference/streams.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Streams [Soon]
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="chapters/supported_devices/index.html">
            
                
                    <a href="../../chapters/supported_devices/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Smart devices supported
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="chapters/supported_platforms/index.html">
            
                
                    <a href="../../chapters/supported_platforms/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Supported platforms
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="chapters/contributing/index.html">
            
                
                    <a href="../../chapters/contributing/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Contributing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="chapters/write_new_documentation/index.html">
            
                
                    <a href="../../chapters/write_new_documentation/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Write new documentation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="chapters/license/index.html">
            
                
                    <a href="../../chapters/license/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        License
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Netbeast Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="structure-overview">Structure Overview</h1>
<p>Netbeast API is composed by different methods. These groups of methods try to help
you communicating your Apps with the smart devices and Dashboard in an easy way.</p>
<ul>
<li><a href="#methods">Methods</a><ul>
<li><a href="#arguments">Arguments</a></li>
<li><a href="#output">Output</a></li>
</ul>
</li>
<li><a href="#DD">Dashboard Databases</a><ul>
<li><a href="#resourcesdb">Resources db</a></li>
<li><a href="#scenesdb">Scenes db</a></li>
</ul>
</li>
</ul>
<p><a name="methods"></a></p>
<h1 id="methods">Methods</h1>
<p>We can find methods for different purposes:</p>
<ul>
<li><a href="resources.html">Manage smart devices</a></li>
<li><a href="scenes.html">Create and use Scenes</a></li>
<li><a href="push_notifications.html">Send notifications to Dashboard</a></li>
<li><a href="chain_events.html">Catch events</a></li>
</ul>
<p><a name="arguments"></a></p>
<h3 id="arguments">Arguments</h3>
<p>Each device support specific parameters.
If you try to set an unsupported parameter to a switch (for example the brightness, <code>beast(&apos;switch&apos;).set({brightness: 80})</code>) you will return a soft error. The process keep working but send you a warning.</p>
<p>Here is a list of supported arguments for each device.</p>
<ul>
<li>switch &amp; bridge<ul>
<li>power:  <code>true || false</code></li>
</ul>
</li>
<li>lights<ul>
<li>power:    <code>true || false</code></li>
<li>hue:           <code>0..360</code></li>
<li>saturation:    <code>0..100</code></li>
<li>brightness:    <code>0..100</code></li>
<li>color: <code>{r: 0, g: 0, b: 0} || #FF13AA</code></li>
</ul>
</li>
<li>music &amp; video<ul>
<li>volume:       <code>0..100</code></li>
<li>status:       <code>play || pause || stop || mute || unmute || info</code></li>
<li>track:        <code>must be the url of the song/video</code></li>
</ul>
</li>
<li>temperature       <code>&#xBA;C</code></li>
<li>humidity          <code>0..100</code></li>
<li>luminosity        <code>photons per square meter</code></li>
<li>battery           <code>0..100</code></li>
</ul>
<p>A example of use:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> beast = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)
beast(<span class="hljs-string">&apos;lights&apos;</span>).set({power: <span class="hljs-literal">true</span>, brightness: <span class="hljs-number">100</span>, hue: <span class="hljs-number">0</span>, saturation: <span class="hljs-number">100</span>})
</code></pre>
<p> If you have white and color bulbs, the first ones are going to switch on and change the brightness. The color bulbs will also change their color to red and the execution continues without problems.</p>
<p><a name="output"></a></p>
<h3 id="output">Output</h3>
<p>All the methods acts as a promise and they always return a Javascript object if successful or an error object else.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> beast = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

beast(<span class="hljs-string">&apos;temperature&apos;</span>).at(<span class="hljs-string">&apos;kitchen&apos;</span>).get()
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;The temperature in the kitchen is &apos;</span> + data + <span class="hljs-string">&apos;&#xBA;C&apos;</span>)
}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Error: &apos;</span> + err)
})
</code></pre>
<p><a name="DD"></a></p>
<h2 id="dashboard-databases">Dashboard Databases</h2>
<p>Netbeast Dashboard store 2 different databases that helps on the manage of the
smart devices. In order to make the API easier to understand, we are going to talk
a bit about how these databases are structured.</p>
<p><a name="resourcesdb"></a></p>
<h3 id="resources">Resources</h3>
<p>A resource contain information about every smart device connected through the dashboard. It has the following fields:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Identifies the resource in the db</td>
<td>Integer (autoincrement)</td>
<td>1</td>
</tr>
<tr>
<td>app</td>
<td>Name of the app that register the resource</td>
<td>String (belkin-wemo, philips-hue)</td>
<td>sonos</td>
</tr>
<tr>
<td>location</td>
<td>Location of the devices in the house</td>
<td>String (up to developer)</td>
<td>bedroom</td>
</tr>
<tr>
<td>topic</td>
<td>Define the device field of actuation</td>
<td>String (lights, music, switch, video)</td>
<td>music</td>
</tr>
<tr>
<td>group</td>
<td>Resources can be grouped</td>
<td>String (up to developer)</td>
<td></td>
</tr>
<tr>
<td>hook</td>
<td>Used to communicate with a device and identify it</td>
<td>string</td>
<td>/sonos/{IP} (/sonos/172.64.30.114)</td>
</tr>
</tbody>
</table>
<p><a name="scenesdb"></a></p>
<h3 id="scenes">Scenes</h3>
<p>A Scene is a snapshot of the current state of a group of devices. It allows you to save your favorites configuration to be accessed easily. The scenes database its composed by the following fields:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Values</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Identifies the resource in the db</td>
<td>Integer</td>
<td>3</td>
</tr>
<tr>
<td>scene_id</td>
<td>show the name of the scene</td>
<td>String</td>
<td>cinema</td>
</tr>
<tr>
<td>location</td>
<td>Location of the scene in the house</td>
<td>String (up to developer)</td>
<td>living-room</td>
</tr>
<tr>
<td>status</td>
<td>store the state to be applied on the device</td>
<td>String</td>
<td>&apos;{power: on, brightness: 50}&apos;</td>
</tr>
</tbody>
</table>
<p>A given device could be part of different scenes.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../chapters/api_reference/index.html" class="navigation navigation-prev " aria-label="Previous page: Introduction"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../chapters/api_reference/resources.html" class="navigation navigation-next " aria-label="Next page: Resources"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-scripts/1461687066342-analytics.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"advanced-emoji":{"embedEmojis":false},"scripts":{"files":["./analytics.js"]},"multipart":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"livereload":{}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
